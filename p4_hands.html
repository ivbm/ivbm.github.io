<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="hands.js"></script>
    <title>Handy</title>
    <style>
        body {
            padding-left: 0.5cm;
            font-family: Tahoma, Geneva, sans-serif;
        }
        h1, h2, h3, p {
            cursor: default;
        }
        svg {
            border: 1px solid black;
        }
        #hand {
            margin-right: 0.5cm;
            transform: rotate(90deg);
        }
        #pca circle {
            cursor: pointer;
        }

        p {
            padding-left: 0.5cm;
            max-width: 30cm;
        }

        #notice {
            margin-bottom:-0.7cm;
            margin-left: 5cm;
            font-style: italic;
        }
        #guide {
            margin-top: -0.7cm;
            padding-left: 13.8cm;
        }

        #viz {
            display: table-cell;
            padding-bottom: 0px;
        }

        .viz_child {
            float: left;
        }

        ul {
            display: table;
            list-style-type: none;
        }
        ul li {
            display: table-row;
            cursor: pointer;
        }
        #tooltipRel{
            display: inline-block;
            position: relative;
        }
        /* Tooltip text */
        .tooltip {
            visibility: hidden;
            width: 120px;
            background-color: #555;
            color: #fff;
            text-align: center;
            padding: 5px 0;
            border-radius: 6px;
            pointer-events: none;

            /* Position the tooltip text */
            position: absolute;
            z-index: 1;
            margin-left: -59px;
            margin-top: -39px;
        }

        /* Tooltip arrow */
        .tooltip::after {
            content: "▼";
            position: absolute;
            top: 100%;
            left: 50%;
            line-height: 5px;
            margin-left: -8px;
            display: block;
            height: 5px;
            width: 5px;
            color: #555;
        }


    </style>
</head>
<body>
<h1>Visualising Hands</h1>
<p id="notice">Hover me!</p>
<div id="viz">

    <svg class="viz_child" id='hand' style='width: 500px; height: 500px'></svg>
    <div class="viz_child" id='tooltipRel'>
        <svg id ='pca' style='width: 500px; height: 500px'></svg>
        <div class="tooltip"></div>
    </div>
    <div class="viz_child" id="p1" class="selection">
        <ul style="height: 500px">
            <li style="color: black; font-weight: bold">PCs:</li>
        </ul>
    </div>
    <div class="viz_child" id="p2" class="selection">
        <ul style="height: 500px">
        </ul>
    </div>
</div>
<p id='guide'>Select hand index above, or choose Principal Component pair to the right.</p>
<h2>Visualisation description, results and conclusion:</h2>
<p> The dataset, on which this visualisation is based, contains: </p>
<p> - a csv file with 40 rows, each representing the shape of a hand. Each row has 112 dimensions (the first 56 are the x coordinates while the next ones are the y coordinates) </p>
<p> - a csv file that represents the data obtained after performing the PCA. The files contains 40 rows, each representing the principal components (less dimensions) for each hand. </p>
<p> Always choosing and plotting two of the principal components helps the user evaluate the shape of the underlying structure of a hand.
    PCA finds the principal components of the data, these components highlight the underlying data structure. The principal components found after running
    the algorithm are the directions where there is the most variance, the directions where the data is most spread out.
    In the visualisation above, you can choose 2 of the components that were generated by the PCA algorithm in the right panel. A scatter-plot with the distribution of
    the points is displayed in the right panel by choosing the two components. When clicking on one of the points (representing a hand) of this scatter-plot (the right one),
    the shape of a hand is displayed in the left panel. When moused over, this point will show the index of the hand data row that will be displayed in the left panel.
    The circle representing this row will become red.
    When mouseovering the left panel, the shape of the generated hand is outlined through a line between points.</p>

<p> The PCA algorithm generates here maximum 39 principal components of our original dataset (the 40 hands, each represented by 112 dimensions). PCA captures the structure
    of the data and the points are rearranged in such a manner that they are on orthogonal axes. The principal components are generated in descending order of data
    variance: The first component, PC0, captures the most variance, the second, PC1, captures the variance in the data that is not captured by the first
    principal component and so on, until the last PC captures the least variance. Two different components capture independent elements of the dataset.
</p>
<p>
    Selecting the top, bottom, left- and rightmost points on the visualisation will indicate which independent element the currently selected PCs capture.
    For PC 0 and 1, there is a stark difference between hands 20 and 35 to the sides of the plot. The hand with index 20 is very slight with spread fingers,
    while the 35 hand is quite big and chunky and leaves practically no finger gap. The progress from slim to sturdy can be followed by clicking the points
    from left to right. Vertically, with hands 37 and 39 at the extremes, the component seems to be related to left/right positioning of fingers.
</p>
<p>
    At the other end of the scale, with PC 37 and 38, the extreme hands regarding this component are 19 and 31. These hands seem quite
    similar, and it is hard to identify any definite progress in the hands between them. This is the principle component pair that displays the least variance,
    and it can be difficult to guess what exactly the measured variance might be related to. It could be something as minor as distance between two specific
    points on a hand.
</p>
<p> Why do we need to use PCA? Because we want our visualization to be 2D and we can plot our data using each time 2 of the generated components. The number of dimensions
    in the PCA dataset is lower than the dimensions in the hand dataset. This is actually the usefulness of PCA - reducing the dimensions of the dataset. Why do we
    have different number of principal components depending on rows (hands)? Because the components are generated taking into account the variance of the dataset.
    The variance can be explained for some of the hands with less components than for the other hands.
    PCA simplifies the dataset and facilitates its description and visualisation.
</p>

<h3>Contributions</h3>
<p>Mihaela: Show index of row when mouseover on a point in the PCA-plot. <br/>
    Søren: Change the selected Principal Components. <br/>
    Veronica: Change colour on selected PC. </p>
</body>
</html>
